<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>How do I correct the ‘images’ field in the Article API? · Docs Suite</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;entry-content&quot;&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="How do I correct the ‘images’ field in the Article API? · Docs Suite"/><meta property="og:type" content="website"/><meta property="og:url" content="https://diffbot.github.io/"/><meta property="og:description" content="&lt;div class=&quot;entry-content&quot;&gt;"/><meta property="og:image" content="https://diffbot.github.io/img/diagram.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://diffbot.github.io/img/diagram.svg"/><link rel="shortcut icon" href="/img/diffbot-head.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://diffbot.github.io/blog/atom.xml" title="Docs Suite Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://diffbot.github.io/blog/feed.xml" title="Docs Suite Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/diffbot_white.svg" alt="Docs Suite"/><h2 class="headerTitleWithLogo">Docs Suite</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/en/intro" target="_self">Prose</a></li><li class=""><a href="/docs/en/api-intro" target="_self">API</a></li><li class=""><a href="/docs/en/error-intro" target="_self">Debugging</a></li><li class=""><a href="/help" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>How-to Guides</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Basics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/intro">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tutorials<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-new-dashboard">Introducing the New Diffbot Dashboard</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-correcting-api-output-custom">How to correct Article, Product, or other API output with a custom rule</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-custom-video">Custom API Video Tutorials</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-crawl-video">Crawlbot Video Tutorials</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">How-to Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/guides-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-custom-collections">Help with custom collections</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-ua">Using Custom User Agents</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-prefilters">Using Prefilters to Ignore Website Elements</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-patterns">Crawl and Processing Patterns and Regexes</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-crawl-depth">Limiting crawl depth</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-restrict-domain">Restricting Crawls to Domains and Subdomains</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-manual-selectors">Creating Custom Rules without a Browser Preview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-data-behind-login">Accessing Data Behind a Login Wall</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-pdf-invoices">Can I receive my invoice / receipt or billing history as a PDF?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-manual-invoicing-custom-billing">Does Diffbot offer manual invoicing, custom terms or other payment options?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-update-credit-card">How can I update my credit card details?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-concatenate-multipage-articles">How to concatenate multiple-page articles using a custom rule</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-backup-restore-rules">Backing up and restoring custom APIs and rules</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-accessing-nonpublic-content">Can Diffbot access content within an intranet or requiring a login?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multiple-url-patterns-same-site">Can I create multiple custom rules for a single site?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-concatenation-custom-api">Concatenating multiple pages with a custom API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-fixing-analyze-page-type">Fixing a misidentified page type with Analyze API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-meta-elements-custom-api">How can I access META elements using the Custom API Toolkit?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-combining-css-selectors">How can I use CSS selectors to select multiple items?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-site-templates-custom-api">How do custom APIs handle different templates?</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/guides-correct-images-custom-api">How do I correct the ‘images’ field in the Article API?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-injecting-javascript-replaying-ajax">Injecting JavaScript into Custom API and replaying AJAX calls</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-regex-custom-api">Regular Expressions in the API Toolkit</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-migrate-rules-apis-v3">Transitioning Custom Rules to Updated API Versions</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-replace-filter-custom-api">Using the Replace Filter in the Custom API Toolkit</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-other-product-currencies">Accessing Product Prices in Other Currencies with the Product API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multi-page-articles-discussions">How Diffbot handles multiple-page articles and discussions</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-improving-response-times">Improving API response times</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-semantria">Semantria-powered sentiment, entity-extraction and other text analysis features</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-analyze-api-fallback">The Analyze API “fallback” argument</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-when-to-use-analyze">When to use the Analyze API versus individual Automatic APIs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-spoken-languages-identified">Which spoken languages (humanLanguage) are identified in Diffbot APIs?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-crawlbot-bulk-querystring-parameter">Using the Crawlbot or Bulk API querystring parameter</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-sitemap-as-seed">Can Crawlbot use a site map (or sitemap) as a crawling seed?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-infinite-endless-scrolling">Can Diffbot crawl sites that use “infinite” or “endless” scrolling?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-limit-article-processing-publishing-date">Can I limit processing to articles written before, after or between certain dates?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multiple-crawl-seeds">Can I spider multiple sites in the same crawl? Is there a limit to the number of seed URLs?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multiple-apis-single-crawl">Can multiple Diffbot extraction APIs be used in a single crawl?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-authenticated-crawling">Does Crawlbot support authenticated crawling?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-recurring-crawls">How are repeating/recurring crawls scheduled?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-check-results-specific-page-type">How can I check how many articles, products or other pages have been found?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-extract-recent-news-content">How can I crawl (news) sites and monitor/extract only recent content?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-custom-headers">How do I set custom headers in API calls or while crawling?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-neverending-crawl-dynamic-urls">How do I stop a “never-ending” crawl due to dynamic URLs or querystrings?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-crawling-ajax-generated-links">How to find and access Ajax-generated links while crawling</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-download-latest-round-crawl-results">In a recurring crawl, how do I download only the latest round’s content?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-zapier">Using Zapier with Crawlbot or Bulk API jobs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-troubleshooting-crawls">Why is my crawl not crawling (and other uncommon crawl problems)?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-bulk">Bulk Processing</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-crawl">Crawlbot</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-libraries">Libraries</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Explainers<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/explain-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-cvp">Crawling vs Processing</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-regex">Diffbot Regex Syntax</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-global-index">Global Index</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-kg">Understanding the Knowledge Graph</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-api">Understanding Extraction APIs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-apis-javascript-support">Do Diffbot APIs execute Javascript?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-apis-follow-redirects">Do Diffbot APIs follow redirects?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-custom-rule-breaks">What happens when a custom rule “breaks?”</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-pdf-extraction">Can Diffbot APIs Extract Content from PDFs or Other Documents?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-posting-text-html">Can I send HTML or text directly to Diffbot APIs?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-article-api-date-normalization">Date normalization in the Article API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-cached-api-responses">Do Diffbot APIs cache responses?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-non-english-pages">Does Diffbot handle non-English pages?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-moving-to-new-api-versions">Moving to New Versions of Diffbot APIs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-what-counts-as-api-call">What counts as an API call?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-diffbot-api-timeout">How long can a single request take / what is the Diffbot API timeout?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-bulk-processing-results-ordering">Are bulk processing URLs returned in the same order as submitted?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-bulk-processing-speed">How quickly does the Bulk Service process web pages?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-hashtag-links">Does Crawlbot follow “hashtag” links / internal links / fragment identifiers?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-robots-txt">Does Crawlbot respect the robots.txt protocol?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-page-deduplication">How does Diffbot handle duplicate pages/content while crawling?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-how-long-crawl-site">How long does it take to crawl a site?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-using-different-proxies">Using Diffbot Proxy Servers / Proxy IPs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-when-crawl-bulk-data-deleted">When is crawl or bulk job data deleted?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-gdpr">Is Diffbot compliant with GDPR?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-bulk-url-report">Bulk Processing URL Report</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-crawl-url-report">Crawlbot URL Report</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/diffbot/docs/edit/master/docs/guides-correct-images-custom-api.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">How do I correct the ‘images’ field in the Article API?</h1></header><article><div><span><div class="entry-content">
        <p>The <code>images</code> field of the Article API is a collection (an array of individual image objects), and, if overridden, requires that two fields be updated within the API Toolkit:</p>
<ol>
<li>The repeating container or element that represents each image.</li>
<li>The actual image element (typically <code>IMG</code>) itself.</li>
</ol>
<p>See <a title="Help with custom collections" href="tutorials-custom-collections">this related article</a> for help with the basics of a collection within the Toolkit. But as an example, let’s assume we need to create a rule to return images from this post. Let’s stick in a sample image of Diffy to play with:</p>
<div id="attachment_264" style="width: 210px" class="wp-caption aligncenter">
<a href="https://support.diffbot.com/wp-content/uploads/2015/03/e50292938335d1d2c8138bcae829c07f-1-copy.png"><img aria-describedby="caption-attachment-264" class="size-full wp-image-264" alt="Diffy" src="/docs/img/e50292938335d1d2c8138bcae829c07f-1-copy.png" width="200" height="200" srcset="https://support.diffbot.com/wp-content/uploads/2015/03/e50292938335d1d2c8138bcae829c07f-1-copy.png 200w, https://support.diffbot.com/wp-content/uploads/2015/03/e50292938335d1d2c8138bcae829c07f-1-copy-150x150.png 150w" sizes="(max-width: 200px) 100vw, 200px"></a><p id="caption-attachment-264" class="wp-caption-text">Diffy</p>
</div>
<p>First, edit the “images” rule, and find the CSS selector or element that appears for each image you want to retrieve:</p>
<div id="attachment_322" style="width: 842px" class="wp-caption aligncenter">
<a href="https://support.diffbot.com/wp-content/uploads/2015/11/ss_2015-1123_913.png"><img aria-describedby="caption-attachment-322" class="size-full wp-image-322" alt="ss_2015-1123_913" src="/docs/img/ss_2015-1123_913.png" width="832" height="305" srcset="https://support.diffbot.com/wp-content/uploads/2015/11/ss_2015-1123_913.png 832w, https://support.diffbot.com/wp-content/uploads/2015/11/ss_2015-1123_913-300x109.png 300w" sizes="(max-width: 832px) 100vw, 832px"></a><p id="caption-attachment-322" class="wp-caption-text">Edit the “images” parent rule</p>
</div>
<p>In the case of this post, there is no containing <code>div</code> or similar element that wraps each image. Instead, each image is simply present within its own <code>p</code> element within the <code>entry-content</code> parent. So our repeating selector will be:</p>
<pre><code class="hljs">.entry-content p img</code></pre>
<p>(It’s OK to use the <code>img</code> itself as your repeating element.)</p>
<p>This means that when returning images from this web site, the Article API will return every <code>img</code> within any <code>p</code> element within the <code>.entry-content</code> container.</p>
<p>Now, confirm the “url” field is representative of what you want to extract from each repeating object. By default the Toolkit will look for the src of the img element, and in this case, that’s exactly what we want:</p>
<p><a href="https://support.diffbot.com/wp-content/uploads/2015/11/ss_2015-1123_912.png"><img class="aligncenter size-full wp-image-317" alt="ss_2015-1123_912" src="/docs/img/ss_2015-1123_912.png" width="677" height="93" srcset="https://support.diffbot.com/wp-content/uploads/2015/11/ss_2015-1123_912.png 677w, https://support.diffbot.com/wp-content/uploads/2015/11/ss_2015-1123_912-300x41.png 300w" sizes="(max-width: 677px) 100vw, 677px"></a></p>
<p>Once you’ve confirmed or edited the “url” field, your subsequent API requests will return the overridden image values instead of the default Diffbot response.</p>
<p>Note that some additional fields — caption, image dimension information, etc. — will not be returned when an image is manually selected.</p>
            </div>
</span></div></article></div><div class="docLastUpdate"><em>Last updated by Rick Deininger</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/guides-site-templates-custom-api"><span class="arrow-prev">← </span><span>How do custom APIs handle different templates?</span></a><a class="docs-next button" href="/docs/en/guides-injecting-javascript-replaying-ajax"><span class="function-name-prevnext">Injecting JavaScript into Custom API and replaying AJAX calls</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/diffbot_white.svg" alt="Docs Suite" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/intro">Tutorials</a><a href="/docs/en/guides-intro">How-to Guides</a><a href="/docs/en/explain-intro">Explainers</a><a href="/docs/en/api-intro">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/diffbot" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/diffbot" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/diffbot">GitHub</a></div></section><a href="https://diffbot.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/diffbot_white.svg" alt="Diffbot.com" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Diffbot.com</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2c24e5e78d724e77c46ef1b720700177',
                indexName: 'diffbot',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>