<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Backing up and restoring custom APIs and rules · Docs Suite</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;entry-content&quot;&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Backing up and restoring custom APIs and rules · Docs Suite"/><meta property="og:type" content="website"/><meta property="og:url" content="https://diffbot.github.io/"/><meta property="og:description" content="&lt;div class=&quot;entry-content&quot;&gt;"/><meta property="og:image" content="https://diffbot.github.io/img/diagram.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://diffbot.github.io/img/diagram.svg"/><link rel="shortcut icon" href="/img/diffbot-head.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/app.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/diffbot_white.svg" alt="Docs Suite"/><h2 class="headerTitleWithLogo">Docs Suite</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/error-intro" target="_self">Debugging</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/diffbot/docs/edit/master/docs/guides-backup-restore-rules.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Backing up and restoring custom APIs and rules</h1></header><article><div><span><div class="entry-content">
        <p>Sometimes you might want to back up your custom rules – maybe you’re freezing your token for a while, or maybe you want to copy them to another token. In this short guide we’ll go through how to access all of your custom API rules and back them up for safe keeping.</p>
<h2 id="ipt_kb_toc_1067_0">Step 1: Access your rules</h2>
<p>Our Custom API toolkit exposes an API for itself which you can use to display all your rules. Assuming your token is "MYTOKEN", here’s how you would access your rules: just visit the following URL in the browser:</p>
<pre><code class="hljs">https://api.diffbot.com/v3/custom?token=MYTOKEN
</code></pre>
<p>This should produce a screen not unlike the following one:</p>
<figure>
<img src="/img/rules-output.png" alt="Rules output"><figcaption>Rules output</figcaption></figure>
<p>This is a simple JSON file (not important if you don’t know what this means) which contains a list of all your custom API rules. The collapsed rules (<code>{&lt;-&gt;}</code> in the image) are all different rules, but collapsed in the browser’s UI to make it more obvious that there are a lot of them. The code is made pretty with the help of <a href="https://github.com/tulios/json-viewer">this Chrome extension, if you need it</a>.</p>
<h2 id="ipt_kb_toc_1067_1">Step 2: Save the file</h2>
<p>To back up your rules, simply save this file somewhere onto the hard drive or your cloud storage with CMD/CTRL+S or File -&gt; Save As. Make sure the file’s extension is <code>.json</code>, so for example <code>myRules.json</code>.</p>
<p>You can now store this file somewhere for later use. Alternatively, if you’re making changes to the rules make them and then save the file.</p>
<h2 id="ipt_kb_toc_1067_2">Importing the rules</h2>
<p>So how do we use this file?</p>
<p>Using a handy tool like <a href="https://www.getpostman.com/">Postman</a>, you would do the following:</p>
<ol>
<li>
<p>In a new request tab, you would enter the API URL: <code>https://api.diffbot.com/v3/custom?token=MYTOKEN</code>. You can replace <code>MYTOKEN</code> with any token to which you want to upload the rules – does not have to be the one from which they were originally downloaded.</p>
<figure>
<img src="/img/step1.png" alt="Step 1"><figcaption>Step 1</figcaption></figure>
</li>
<li>
<p>Switch the method to POST</p>
<figure>
<img src="/img/step2.png" alt="Step 2"><figcaption>Step 2</figcaption></figure>
</li>
<li>
<p>In the "Body" tab, choose wither <code>raw</code> or <code>binary</code>. If you choose <code>binary</code>, then click on Choose Files and select the <code>.json</code> file we created earlier. If you choose <code>raw</code>, copy and paste that file’s content into the text area.</p>
<figure>
<img src="/img/step3.png" alt="Step 3"><figcaption>Step 3</figcaption></figure>
</li>
<li>
<p>Finally, under the Headers tab, add "Content-Type" as the key, and "application/json" as the value, so that Diffbot knows to expect JSON content.</p>
<figure>
<img src="/img/step4.png" alt="Step 4"><figcaption>Step 4</figcaption></figure>
</li>
<li>
<p>Press Send. This will upload the new rules into your token. You’ll get a response back that’s something like this:</p>
<pre><code class="json">  {
  "hashes":
    [
      "507a31ce",
      "ax7n3sa1",
      "z992ns6c"
    ]
  }
</code></pre>
<p>These are just IDs of the rules that were updated and can be safely ignored.</p>
</li>
</ol>
            </div>
</span></div></article></div><div class="docLastUpdate"><em>Last updated by Bruno Skvorc</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/diffbot_white.svg" alt="Docs Suite" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/api-basics-index">Automatic API</a><a href="/docs/en/cb-basics-index">Batch Services</a><a href="/docs/en/kg-index">Knowledge Graph</a><a href="/docs/en/explain-gdpr">Diffbot and GDPR</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/diffbot" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/diffbot" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="/help">Help</a><a href="https://github.com/diffbot">GitHub</a></div></section><a href="https://diffbot.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/diffbot_white.svg" alt="Diffbot.com" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Diffbot.com</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2c24e5e78d724e77c46ef1b720700177',
                indexName: 'diffbot',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>