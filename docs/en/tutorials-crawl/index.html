<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Crawlbot walkthrough · Docs Suite</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div id=&quot;docBody&quot;&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Crawlbot walkthrough · Docs Suite"/><meta property="og:type" content="website"/><meta property="og:url" content="https://diffbot.github.io/"/><meta property="og:description" content="&lt;div id=&quot;docBody&quot;&gt;"/><meta property="og:image" content="https://diffbot.github.io/img/diagram.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://diffbot.github.io/img/diagram.svg"/><link rel="shortcut icon" href="/img/diffbot-head.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/app.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/diffbot_white.svg" alt="Docs Suite"/><h2 class="headerTitleWithLogo">Docs Suite</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class="siteNavGroupActive"><a href="/docs/en/intro" target="_self">Prose</a></li><li class=""><a href="/docs/en/api-intro" target="_self">API</a></li><li class=""><a href="/docs/en/error-intro" target="_self">Debugging</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Tutorials</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Basics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/intro">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tutorials<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-intro">Introduction</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tutorials</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-new-dashboard">Introducing the New Diffbot Dashboard</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-correcting-api-output-custom">How to correct Article, Product, or other API output with a custom rule</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-custom-video">Custom API Video Tutorials</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/tutorials-crawl">Crawlbot walkthrough</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-crawl-video">Crawlbot Video Tutorials</a></li><li class="navListItem"><a class="navItem" href="/docs/en/tutorials-bulk">Bulk Processing</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">How-to Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/guides-intro">Introduction</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Custom API Toolkit</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/index-custom-api">API Toolkit Index</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-custom-collections">Help with custom collections</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-ua">Using Custom User Agents</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-prefilters">Using Prefilters to Ignore Website Elements</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-manual-selectors">Creating Custom Rules without a Browser Preview</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-data-behind-login">Accessing Data Behind a Login Wall</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-accessing-nonpublic-content">Can Diffbot access content within an intranet or requiring a login?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-concatenation-custom-api">Concatenating multiple pages with a custom API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-meta-elements-custom-api">How can I access META elements using the Custom API Toolkit?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-combining-css-selectors">How can I use CSS selectors to select multiple items?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-site-templates-custom-api">How do custom APIs handle different templates?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-correct-images-custom-api">How do I correct the ‘images’ field in the Article API?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-injecting-javascript-replaying-ajax">Injecting JavaScript into Custom API and replaying AJAX calls</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-regex-custom-api">Regular Expressions in the API Toolkit</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-replace-filter-custom-api">Using the Replace Filter in the Custom API Toolkit</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-custom-headers">How do I set custom headers in API calls or while crawling?</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Crawlbot / Bulk jobs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/index-crawlbot">Crawlbot index</a></li><li class="navListItem"><a class="navItem" href="/docs/en/index-bulk">Bulkjob index</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-patterns">Crawl and Processing Patterns and Regexes</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-crawl-depth">Limiting crawl depth</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-restrict-domain">Restricting Crawls to Domains and Subdomains</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-crawlbot-bulk-querystring-parameter">Using the Crawlbot or Bulk API querystring parameter</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-sitemap-as-seed">Can Crawlbot use a site map (or sitemap) as a crawling seed?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-limit-article-processing-publishing-date">Can I limit processing to articles written before, after or between certain dates?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multiple-crawl-seeds">Can I spider multiple sites in the same crawl? Is there a limit to the number of seed URLs?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multiple-apis-single-crawl">Can multiple Diffbot extraction APIs be used in a single crawl?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-authenticated-crawling">Does Crawlbot support authenticated crawling?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-recurring-crawls">How are repeating/recurring crawls scheduled?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-check-results-specific-page-type">How can I check how many articles, products or other pages have been found?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-extract-recent-news-content">How can I crawl (news) sites and monitor/extract only recent content?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-neverending-crawl-dynamic-urls">How do I stop a “never-ending” crawl due to dynamic URLs or querystrings?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-crawling-ajax-generated-links">How to find and access Ajax-generated links while crawling</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-download-latest-round-crawl-results">In a recurring crawl, how do I download only the latest round’s content?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-troubleshooting-crawls">Why is my crawl not crawling (and other uncommon crawl problems)?</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Accounts / Finance</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/guides-pdf-invoices">Can I receive my invoice / receipt or billing history as a PDF?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-manual-invoicing-custom-billing">Does Diffbot offer manual invoicing, custom terms or other payment options?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-update-credit-card">How can I update my credit card details?</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Automatic APIs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/guides-concatenate-multipage-articles">How to concatenate multiple-page articles using a custom rule</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-backup-restore-rules">Backing up and restoring custom APIs and rules</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multiple-url-patterns-same-site">Can I create multiple custom rules for a single site?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-fixing-analyze-page-type">Fixing a misidentified page type with Analyze API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-migrate-rules-apis-v3">Transitioning Custom Rules to Updated API Versions</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-other-product-currencies">Accessing Product Prices in Other Currencies with the Product API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-multi-page-articles-discussions">How Diffbot handles multiple-page articles and discussions</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-improving-response-times">Improving API response times</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-semantria">Semantria-powered sentiment, entity-extraction and other text analysis features</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-analyze-api-fallback">The Analyze API “fallback” argument</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-when-to-use-analyze">When to use the Analyze API versus individual Automatic APIs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-spoken-languages-identified">Which spoken languages (humanLanguage) are identified in Diffbot APIs?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-infinite-endless-scrolling">Can Diffbot crawl sites that use “infinite” or “endless” scrolling?</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Other</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/guides-zapier">Using Zapier with Crawlbot or Bulk API jobs</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Explainers<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/explain-intro">Introduction</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Custom and Automatic APIs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/explain-apis-javascript-support">Do Diffbot APIs execute Javascript?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-apis-follow-redirects">Do Diffbot APIs follow redirects?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-custom-rule-breaks">What happens when a custom rule “breaks?”</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-pdf-extraction">Can Diffbot APIs Extract Content from PDFs or Other Documents?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-posting-text-html">Can I send HTML or text directly to Diffbot APIs?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-article-api-date-normalization">Date normalization in the Article API</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-non-english-pages">Does Diffbot handle non-English pages?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-moving-to-new-api-versions">Moving to New Versions of Diffbot APIs</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-what-counts-as-api-call">What counts as an API call?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-diffbot-api-timeout">How long can a single request take / what is the Diffbot API timeout?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-cached-api-responses">Do Diffbot APIs cache responses?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-hashtag-links">Does Crawlbot follow “hashtag” links / internal links / fragment identifiers?</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Crawlbot / Bulk jobs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/explain-cvp">Crawling vs Processing</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-regex">Diffbot Regex Syntax</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-bulk-processing-results-ordering">Are bulk processing URLs returned in the same order as submitted?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-bulk-processing-speed">How quickly does the Bulk Service process web pages?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-robots-txt">Does Crawlbot respect the robots.txt protocol?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-page-deduplication">How does Diffbot handle duplicate pages/content while crawling?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-how-long-crawl-site">How long does it take to crawl a site?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-when-crawl-bulk-data-deleted">When is crawl or bulk job data deleted?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-bulk-url-report">Bulk Processing URL Report</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-crawl-url-report">Crawlbot URL Report</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Proxies</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/explain-using-different-proxies">Using Diffbot Proxy Servers / Proxy IPs</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Global Index</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/explain-global-index">Global Index</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Misc</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/explain-gdpr">Is Diffbot compliant with GDPR?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/explain-child-tokens">Can I Create Child Tokens Under my Account?</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/diffbot/docs/edit/master/docs/tutorials-crawl.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Crawlbot walkthrough</h1></header><article><div><span><div id="docBody">
<p>Crawlbot allows you to apply a Diffbot API to entire sites, returning the complete structured data in JSON or CSV format.</p>
<div class="alert alert-info">
<strong>Related:</strong> <a href="index-crawlbot">Crawlbot Support</a> | <a href="api-crawlbot-api">Crawlbot API Documentation</a> | <a href="tutorials-crawl-video">Video Tutorials</a>
</div>
<p><h3>Overview</h3></p>
<p>Crawlbot works hand-in-hand with a Diffbot API (either automatic or custom). It quickly spiders a site for appropriate links and hands these links to a Diffbot API for processing. All structured page results are then compiled into a single "collection," which can be downloaded in full or searched using the <a href="api-search">Search API</a>.</p>
<div class="alert">
<b>Crawlbot</b> is limited to Extraction API Plus plans and above, and is accessible in the Developer Dashboard <a href="/dev/crawl">here.</a>
</div>
<p>Note that the limit of active crawls on a single token is 1000. More information <a href="error-too-many-collections">here</a>.</p>
<p><h3>Creating a Crawl: Basics</h3></p>
<p>Each crawl requires, at minimum, the following:
</p>
<ol>
<li>A crawl name (e.g., "DiffbotCrawl").</li>
<li>A starting or "seed" URL. Multiple URLs can be provided to process more than one site in the same crawl. If the seed contains a non-www subdomain ("http://blog.diffbot.com" or "https://docs.diffbot.com") Crawlbot will restrict spidering to the specified <strong>subdomain</strong>. If you wish to expand your crawl to multiple domains, enter each one as a separate seed; or consider the <code>restrictDomain</code> setting. <a href="guides-restrict-domain">Read more</a>.</li>
<li>A Diffbot API to be used for processing pages.</li>
</ol>
<figure>
<div>
<img src="/img/choose_api.png">
</div>
<figcaption>Select your Diffbot API from the dropdown menu.</figcaption>
</figure>
<h3>Creating an Automatic Crawl Using the Analyze API</h3>
<p>The simplest Crawlbot crawl will apply Diffbot's <a href="api-analyze">Analyze API</a> to a single site. The Analyze API determines the "page-type" of submitted URLs, and automatically extracts the contents if the page-type is currently supported.</p>
<p>To run your crawl:</p>
<ol>
<li>Enter a new crawl name.</li>
<li>Enter a seed URL, like "http://blog.diffbot.com."</li>
<li>Select the Analyze API from the "Diffbot API" menu.</li>
<li>Click "Start"</li>
</ol>
<p>In this situation, each page found on the site will be analyzed -- and all supported page-types (article, discussion, image, product, etc.) will be automatically extracted and made available in the resulting collection.</p>
<p><h3>Creating a Crawl Using a Specific Extraction API</h3></p>
<p>If you don't want to rely on the Analyze API's analysis of pages, you can use a specific Diffbot extraction API (e.g., Product or Article API). Because by default all pages on a domain will be processed by the API you select, in nearly all of these circumstances you will want to further narrow your crawl using the Crawl or Processing Patterns (or regular expressions), discussed below.
</p>
<h3>Controlling or Limiting Pages to Crawl</h3>
<div class="alert alert-info">
<strong>Related:</strong> <a href="explain-crawling-versus-processing" target="_blank">What's the Difference Between Crawling and Processing?</a>
</div>
<p>By default, Crawlbot will spider and process all links on the domain(s) matching your seed URL(s). You can limit which pages of a site to crawl (spider for links), and which pages of a site to process, using the "Crawling Limits" and "Page Processing Limits" sections.
</p>
<h4>Crawl Patterns</h4>
<p>Crawl patterns will limit crawling to only those URLs containing at least one of the matching strings. You may enter as many crawl patterns as you like, one per line. Any URLs not containing a match will be ignored.</p>
<p>For example, to limit crawling at diffbot.com to only "blog.diffbot.com" pages, you can enter a crawl pattern of <code>blog.diffbot.com</code>. If you only wanted to crawl the "Shoes" section of a site, you might enter a crawl pattern of <code>/category/shoes</code>.</p>
<p>You can also supply <strong>negative</strong> crawl patterns by prepending your pattern with a "!" (exclamation point). You can supply as many negative patterns as you like. All matching URLs will be skipped.
<figure>
<div>
<img src="/img/crawl_patterns.png">
</div>
<figcaption>This restricts the spider to "category" URLs, and prevents any URLs with "/author/" or "/page/" from being spidered.</figcaption>
</figure>
</p>
<p>You can also use the <code>^</code> and <code>$</code> characters -- borrowed from regular-expression syntax -- to specify the start and end of a pattern. For instance, <code>^http://www.diffbot.com</code> will match URLs starting with "http://www.diffbot.com," and <code>type=product$</code> will match all URLs ending in "type=product."
</p>
<h4>Page Processing Patterns</h4>
<p>Page processing patterns are identical to crawling patterns, except they define which pages will be <strong>processed</strong> by the selected Diffbot API.</p>
<div class="alert">
<strong>Note:</strong> If you limit site crawling via crawl patterns or regular expressions, but do not enter processing patterns, <strong>only pages matching your crawl patterns/regexes</strong> will be processed. A crawling restriction will serve for both crawling and processing in the absence of a dedicated processing restriction.</div>
<p>For example, to only process product pages for a site you might enter a page processing pattern of "/product/detail/" -- this would match a URL like http://shopping.diffbot.com/product/detail/8117a7?name=diffy_robot, but would not match the URLs http://shopping.diffbot.com or http://shopping.diffbot.com/category/plush.
<figure>
<div>
<img src="/img/processing_patterns.png">
</div>
<figcaption>This restricts processing to URLs containing "/product/detail/" -- and will skip any such URLs also containing  "?currency=euro."</figcaption>
</figure>
</p>
<h4>Crawl and Page Processing Regular Expressions</h4>
<p>If you know your way around regular expressions, you can write a crawl or page processing regex in place of patterns.</p>
<p>If you supply a regex, any patterns will be ignored: only the URLs that contain a match to your provided expression will be crawled and/or processed.</p>
<h4>HTML Processing Patterns</h4>
<p>The HTML Processing Pattern allows you to require exact <strong>markup</strong> strings that must be found in the page HTML in order for a page to be processed. For example, if a site's articles all contain the string:
</p>
<blockquote><code>&lt;div class="articleBody"&gt;&lt;/div&gt;</code></blockquote>
<p>You can specify an HTML Processing Pattern of <code>class="articleBody"</code> to limit processing only to the article pages (those containing the string in their HTML).</p>
<h4>Pages to Process / Pages to Crawl</h4>
<p>You can also set a fixed number of pages to crawl or process. Your crawl will complete as soon as one of these is reached.</p>
<p>By default, crawls are set to process and crawl a maximum of 100,000 pages.</p>
<p><h3>Passing Diffbot API Querystring Arguments</h3></p>
<p>Crawlbot hands off URLs to <a href="https://diffbot.com/products/automatic">specific Diffbot APIs</a> for processing. Each of these APIs has optional querystring arguments that can be used to modify the information returned -- most commonly the <code>fields</code> argument, for adding optional fields to the Diffbot response.</p>
<p></p>
<p><h3>Robots.txt and Politeness</h3></p>
<p>By default Crawlbot adheres to <a href="http://en.wikipedia.org/wiki/Robots_exclusion_standard" target="_blank">robots.txt</a> instructions, including the crawlDelay parameter. In rare cases -- e.g., when crawling a partner's site with permission -- Crawlbot can be configured to ignore robots.txt instructions.</p>
<p>Crawlbot also has a default "politeness" setting of 0.25 seconds -- spidering machines will wait a quarter of a second between page-loads in order to minimize the impact of sites being crawled. You can adjust this on a per-crawl basis.</p>
<p><h3>Repeating Crawls</h3></p>
<p>You can optionally set crawl jobs to repeat automatically. Each repeat crawl "round" will fully re-spider from each seed URL, and process pages according to your repeat settings.</p>
<p>For each URL:</p>
<ul>
<li>If the URL was previously processed, and the extracted data is different (e.g., a price change), the data will be updated and the <code>timestamp</code> value in the JSON response will be updated to indicate an updated record.</li>
<li>If the URL was previously processed and the extracted data is the same as the previous round (no changes), the data will remain the same and the <code>timestamp</code> value in the JSON response will not be updated.</li>
<li>If the URL is brand new, it will be processed for the first time.</li>
</ul>
<p>You can optionally choose to "only process if new," which will only process newly-discovered URLs. In this case, pages of a site will only be processed once -- regardless of the number of rounds. If "only process if new" is not selected, all pages in the site (and matching the process pattern / regular expression) will be processed each round.</p>
<p>You will also need to indicate:</p>
<ol>
<li>Repeat frequency: this is indicated in days ("1" for daily; "7" for weekly; "0.25" for every six hours). </li>
<li>Number of repeats. Set to 0 or leave blank to repeat indefinitely.</li>
</ol>
<figure>
<div>
<img src="/img/repeat_crawl.png">
</div>
<figcaption>This recurring crawl will repeat every 12 hours, only picking up new pages, for two weeks.</figcaption>
</figure>
<p>Repeat timing is based on the <strong>end</strong> of the previous crawl round. So if a daily ("1") repeating crawl ends on Tuesday at 12:00pm, the next round will <strong>start</strong> on Wednesday at noon. Using the Crawlbot API you can use the <strong>roundStart</strong> argument to control when your repeating crawl rounds start.</p>
<h3>Notifications</h3>
<p>You can choose to be notified at the conclusion of each crawl (or crawl round, if your crawl is repeating), either by <a href="http://en.wikipedia.org/wiki/Webhook" target="_blank">webhook</a> or email.</p>
<p>If "webhook" is chosen, you will need to supply a URL that is capable of receiving a POST request. One alternative to building your own: use the Diffbot app on <a href="https://zapier.com/zapbook/diffbot/" target="_blank">Zapier</a> to receive webhook notifications.</p>
<h3>Accessing Crawl Data</h3>
<p>You can access processed data anytime during a crawl, or after it completes. Crawlbot offers two download options within the interface:</p>
<ol>
<li>Full JSON Output: A single file, in valid <a href="http://en.wikipedia.org/wiki/JSON" target="_blank">JSON</a>, containing all of the processed objects from your crawl.</li>
<li>CSV Output: A single comma-separated-values file of the <strong>top-level</strong> objects. Nested elements (article images, tags, etc.) will not be returned in the CSV.</li>
</ol>
<p>If you only want to access a subset of your data, the <a href="api-search">Search API</a> allows much more flexibility in searching and retrieving only the matching items from queries.</p>
<h4>The URL Report</h4>
<p>Also provided with each crawl is a downloadable (CSV) report on each page crawled and/or processed within a crawling job. This file is a log of each URL analyzed by Crawlbot, and is useful in diagnosing issues -- "Why wasn't this page processed?" -- or simply cataloguing which URLs have been processed.</p>
<p>Each row in the URLs report contains diagnostic information, including:</p>
<ul>
<li>Whether the URL was processed by a Diffbot extraction API</li>
<li>Crawling timestamp</li>
<li>Last status of the URL</li>
</ul>
<p><a href="explain-crawl-url-report">See complete details on the URL Report</a>.</p>
</div></span></div></article></div><div class="docLastUpdate"><em>Last updated by Rick Deininger</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/tutorials-custom-video"><span class="arrow-prev">← </span><span>Custom API Video Tutorials</span></a><a class="docs-next button" href="/docs/en/tutorials-crawl-video"><span>Crawlbot Video Tutorials</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/diffbot_white.svg" alt="Docs Suite" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/intro">Tutorials</a><a href="/docs/en/guides-intro">How-to Guides</a><a href="/docs/en/explain-intro">Explainers</a><a href="/docs/en/api-intro">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/diffbot" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/diffbot" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="/help">Help</a><a href="https://github.com/diffbot">GitHub</a></div></section><a href="https://diffbot.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/diffbot_white.svg" alt="Diffbot.com" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Diffbot.com</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2c24e5e78d724e77c46ef1b720700177',
                indexName: 'diffbot',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>