<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>How to concatenate multiple-page articles using a custom rule · Docs Suite</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;entry-content&quot;&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="How to concatenate multiple-page articles using a custom rule · Docs Suite"/><meta property="og:type" content="website"/><meta property="og:url" content="https://diffbot.github.io/"/><meta property="og:description" content="&lt;div class=&quot;entry-content&quot;&gt;"/><meta property="og:image" content="https://diffbot.github.io/img/diagram.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://diffbot.github.io/img/diagram.svg"/><link rel="shortcut icon" href="/img/diffbot-head.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/app.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/diffbot_white.svg" alt="Docs Suite"/><h2 class="headerTitleWithLogo">Docs Suite</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/error-intro" target="_self">Debugging</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/diffbot/docs/edit/master/docs/guides-concatenate-multipage-articles.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">How to concatenate multiple-page articles using a custom rule</h1></header><article><div><span><div class="entry-content">
        <p><strong>Related: <a title="How Diffbot handles multiple-page articles" href="guides-multi-page-articles-discussions">How Diffbot handles multiple-page articles</a><br>
</strong></p>
<p>Diffbot’s <a href="http://www.diffbot.com/products/automatic/article" target="_blank">Article API</a> attempts to concatenate (string together) multiple-page articles, returning up to twenty pages of content in a single response.</p>
<p>On some sites or pages our automated algorithm is unable to concatenate automatically. In these cases you can use the <a title="Custom API Toolkit" href="http://www.diffbot.com/dev/customize" target="_blank">Custom API Toolkit</a> to create a “nextPage” rule, providing the CSS selector of an article’s next page link.</p>
<p>To do this:</p>
<ol>
<li>Create a new custom field named <code>nextPage</code>.</li>
<li>Select the element that contains the link to the next page.</li>
<li>Add an “attribute” filter using the Filters drop-down, and in this field enter <code>HREF</code> to make sure the URL value is returned. (Note that in some Javascript-based pagination, this URL value may not be available or may be available in a different attribute.)</li>
</ol>
<p>The Article API will subsequently use this value to concatenate articles, creating a single <code>text</code> (and <code>html</code>) field response.</p>
<p><strong>A note on tricky selectors</strong></p>
<p>Sometimes sites don’t identify the next page link using unique CSS selectors (particularly on sites that have links to individually-numbered pages).</p>
<p>For instance, Slate.com uses the same class — <code>.sl-art-pag-link</code> — for all links to individual pages, even pages prior to the current page. Using this class alone could result in multiple ‘nextPage’ values and an infinite processing loop.</p>
<p><a href="http://www.slate.com/articles/double_x/doublex/2012/12/the_day_i_almost_shot_my_father_i_was_young_angry_and_holding_a_gun.html" target="_blank">See a Slate example here</a>.</p>
<p>Our concatenation algorithm will generally prevent infinite loops and repeated content, but writing better CSS selectors will ensure you the best performance. In this case, using the following selector will ensure that only the correct next page is identified:</p>
<p><code>.sl-art-curpage + .sl-art-pag-link</code></p>
<p>This uses the plus-sign combinator to identify only the page link that is immediately preceded by the current page (<code>.sl-art-curpage</code>). This ensures that only the next page — if it exists — is identified.</p>
<p>For more information on our Custom API CSS selectors, check out the inline help within the <a href="http://www.diffbot.com/dev/customize" target="_blank">Custom API Toolkit</a>.</p>
            </div>
</span></div></article></div><div class="docLastUpdate"><em>Last updated by Bruno Skvorc</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/diffbot_white.svg" alt="Docs Suite" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/api-basics-index">Automatic API</a><a href="/docs/en/cb-basics-index">Batch Services</a><a href="/docs/en/kg-index">Knowledge Graph</a><a href="/docs/en/explain-gdpr">Diffbot and GDPR</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/diffbot" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/diffbot" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="/help">Help</a><a href="https://github.com/diffbot">GitHub</a></div></section><a href="https://diffbot.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/diffbot_white.svg" alt="Diffbot.com" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Diffbot.com</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2c24e5e78d724e77c46ef1b720700177',
                indexName: 'diffbot',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>